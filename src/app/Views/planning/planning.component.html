<main id="main-container">

  <div class="bg-image" style="background-image: url('../../../assets/images/training-image-01.jpg');">
    <div class="hero bg-primary-dark-op">
      <div class="hero-inner">
        <div class="content ">
          <div class="row">
            <h1 class="display-4 fw-bold text-white mb-2">
              Planning
            </h1>
            



            <div class=pull-right>
              <div class="row" style="display:inline-block;">
                <button type="submit" class="comment_button trans_200 bt" (click)="openAddModal()">Add Session</button>
                <br> <br>
                  <button type="button" class="comment_button trans_200 bt " (click)="refresh()"><i class="fa fa-refresh"
                          aria-hidden="true"></i></button>
              </div>

          </div>

          </div>

          <div class="row">
            <div class="col-md-7 col-xl-4" *ngFor="let session of sessions; let i =index">
              <a class="block block-rounded block-link-shadow text-center" href="javascript:void(0)">
                <div class="block-content block-content-full">
                  <h3 class="block-title">Session {{i+1}}</h3>
                </div>
                <div class="block-content block-content-full block-content-sm bg-body-light">
                  <div class="fw-semibold mb-1"> Date : {{session.dateDp}}</div>
                  <div class="fs-sm fw-medium text-muted">{{session.heure}}</div>
                </div>
                <div class="block-content">
                  <div class="row items-push text-center">
                    <div class="col-6">
                      <div class="fs-sm fw-medium text-muted">Room :{{session.salle.nom}}</div>
                    </div>
                    <div class="col-6">
                      <div class="fs-sm fw-medium text-muted">Activity :{{session.activity.nom}}</div>
                    </div>
                  </div>
                  <button class="btn btn-sm btn-alt-danger" (click)="openDeleteModal(i)">
                    <i class="fa fa-trash-o" aria-hidden="true"></i>Delete
                  </button>
                  <button class=" btn btn-sm btn-alt-secondary">
                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>Update
                  </button>
                </div>
              </a>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>



</main>

<!-- Modal de add session -->
<div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display':displayAdd}">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" style="left: 200;">Add Session </h4>
        <button type="button" class="close" data-dismiss="app" (click)="closeAddModal()">
          <span aria-hidden="true">Ã—</span>
          <span class="sr-only">Close</span>
        </button>

      </div>
      <div class="modal-body">

        <form class="js-validation-signup" novalidate="novalidate" #addItemForm="ngForm">
          <div style="display: flex;">
            <div class="form-floating mb-4">
              <input type="date" class="form-control" id="date" name="dateDp" placeholder="Enter date session" ngModel
                required>
              <label class="form-label" for="date">Session Date</label>
            </div>
            <div class="form-floating mb-4">
              <input type="text" class="form-control" id="hour" name="heure" placeholder="Enter hour" ngModel required>
              <label class="form-label" for="hour">Hour</label>
            </div>
          </div>
          <div class="form-floating mb-4">

            <select class="js-select2 form-select js-select2-enabled select2-hidden-accessible form-floating mb-4"
              id="activity" name="activity" style="width: 100%;" data-placeholder="Choose one.."
              data-select2-id="example-select2" tabindex="-1" aria-hidden="true" ngModel required>
              <option data-select2-id="2"></option>
              <option [value]="activity.id" data-select2-id="15" *ngFor="let activity of activities">{{activity.nom}}
              </option>
            </select>

            <label class="form-label" for="activity">Activity</label>
          </div>
          <div class="form-floating mb-4">

            <select class="js-select2 form-select js-select2-enabled select2-hidden-accessible form-floating mb-4"
            id="salle" name="salle" style="width: 100%;" data-placeholder="Choose one.."
            data-select2-id="example-select2" tabindex="-1" aria-hidden="true" ngModel required>
            <option data-select2-id="2"></option>
            <option [value]="salle.id" data-select2-id="15" *ngFor="let salle of salles">{{salle.nom}}
            </option>
          </select>

            <label class="form-label" for="salle">Room</label>
          </div>


        </form>
      </div>
      <div class="modal-footer">


        <button type="submit" (click)="add(addItemForm.value)" class="btn btn-lg btn-alt-primary fw-semibold bt pull-right">
          Add
        </button>
      </div>

    </div>
  </div>
</div>